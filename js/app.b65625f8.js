(function(e){function t(t){for(var i,r,l=t[0],a=t[1],c=t[2],h=0,f=[];h<l.length;h++)r=l[h],Object.prototype.hasOwnProperty.call(s,r)&&s[r]&&f.push(s[r][0]),s[r]=0;for(i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i]);u&&u(t);while(f.length)f.shift()();return o.push.apply(o,c||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],i=!0,l=1;l<n.length;l++){var a=n[l];0!==s[a]&&(i=!1)}i&&(o.splice(t--,1),e=r(r.s=n[0]))}return e}var i={},s={app:0},o=[];function r(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=i,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],a=l.push.bind(l);l.push=t,l=l.slice();for(var c=0;c<l.length;c++)t(l[c]);var u=a;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var i=n("2b0e"),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("b-navbar",{attrs:{variant:"primary",type:"dark"}},[n("b-navbar-brand",{staticClass:"mb-0",attrs:{tag:"h1"}},[n("router-link",{attrs:{to:"/"}},[n("b-button",{attrs:{variant:"primary"}},[e._v("EEV SAS")])],1)],1),n("b-navbar-nav",{staticClass:"ml-auto"},[null!=e.user?n("b-dropdown",{attrs:{text:e.user.firstname+" "+e.user.lastname+" ("+e.user.company+")",variant:"primary"}},[n("b-dropdown-item",{on:{click:function(t){return e.$router.push("/questionnaire")}}},[e._v("Commencer le test")]),n("b-dropdown-item",[e._v("Mes résultats")]),"admin"==e.user.firstname&&"admin"==e.user.lastname&&"admin"==e.user.company?n("b-dropdown-item",[e._v("Tous les Résultats")]):e._e(),n("b-dropdown-divider"),n("b-dropdown-item",{on:{click:e.signOut}},[e._v("Déconnexion")])],1):e._e()],1)],1),n("router-view",{staticClass:"container",on:{setUser:e.setUser}})],1)},o=[],r={data:function(){return{user:null}},mounted:function(){this.setUser()},methods:{setUser:function(){try{this.user=JSON.parse(sessionStorage.getItem("currentUser"))}catch(e){this.user=null}},signOut:function(){this.user=null,sessionStorage.setItem("currentUser",""),this.$router.push("/")}}},l=r,a=(n("5c0b"),n("2877")),c=Object(a["a"])(l,s,o,!1,null,null,null),u=c.exports,h=n("8c4f"),f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("Connexion",{on:{setUser:e.setUser}})],1)},b=[],p=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("br"),n("h2",[e._v("Formulaire de connexion")]),n("b-card",{staticClass:"mt-3",attrs:{header:"Identifiez-vous"}},[n("b-form",{on:{submit:e.onSubmit}},[n("b-form-group",{attrs:{id:"input-group-1",label:"Prénom:","label-for":"input-1",state:e.fnState,"invalid-feedback":"Saisissez votre prénom"}},[n("b-form-input",{attrs:{id:"input-1",state:e.fnState,placeholder:"Entrez votre prénom"},model:{value:e.form.firstname,callback:function(t){e.$set(e.form,"firstname",t)},expression:"form.firstname"}})],1),n("b-form-group",{attrs:{id:"input-group-2",label:"Nom:","label-for":"input-2",state:e.lnState,"invalid-feedback":"Saisissez votre nom"}},[n("b-form-input",{attrs:{id:"input-2",state:e.lnState,placeholder:"Entrez votre nom"},model:{value:e.form.lastname,callback:function(t){e.$set(e.form,"lastname",t)},expression:"form.lastname"}})],1),n("b-form-group",{attrs:{id:"input-group-3",label:"Entreprise:","label-for":"input-3",state:e.cpState,"invalid-feedback":"Saisissez votre entreprise"}},[n("b-form-input",{attrs:{id:"input-3",state:e.cpState,placeholder:"Quel est votre entreprise ?"},model:{value:e.form.company,callback:function(t){e.$set(e.form,"company",t)},expression:"form.company"}})],1),n("b-button",{attrs:{type:"submit",variant:"primary"}},[e._v("Commencer le test")])],1)],1)],1)},m=[],d={data:function(){return{form:{firstname:"",lastname:"",company:""},fnState:null,lnState:null,cpState:null}},methods:{check:function(){return this.fnState=""!=this.form.firstname,this.lnState=""!=this.form.lastname,this.cpState=""!=this.form.company,this.fnState&&this.lnState&&this.cpState},onSubmit:function(e){this.check()&&(e.preventDefault(),sessionStorage.setItem("currentUser",JSON.stringify(this.form)),this.$emit("setUser"),this.$router.push({name:"questionnaire"}))}}},x=d,v=(n("5dc8"),Object(a["a"])(x,p,m,!1,null,null,null)),k=v.exports,g={name:"home",mounted:function(){this.setUser(null)},components:{Connexion:k},methods:{setUser:function(){this.$emit("setUser")}}},_=g,y=Object(a["a"])(_,f,b,!1,null,null,null),S=y.exports,q=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[this.page<=this.questions.nb?n("b-card",{staticClass:"mt-3",attrs:{header:"Questionnaire",footer:this.page+"/"+this.questions.nb}},[n("Question",{attrs:{index:this.page/this.questions.nb,question:e.askedQuestion.questions[e.page]},on:{before:function(t){e.page--},resultQuestion:e.resultQuestion}})],1):e._e(),this.page>this.questions.nb?n("b-card",{staticClass:"mt-3",attrs:{header:"Résultats"}},[n("Result",{attrs:{questions:e.askedQuestion}})],1):e._e()],1)},O=[],w=function(){var e=this,t=e.$createElement,n=e._self._c||t;return null!=e.question?n("div",[n("h3",[e._v(e._s(e.question.titre))]),n("b-form",[e._l(e.question.choix,(function(t){return n("b-form-checkbox",{key:t.libelle,model:{value:t.check,callback:function(n){e.$set(t,"check",n)},expression:"choix.check"}},[e._v("\n            "+e._s(t.libelle)+"\n        ")])})),n("br"),e.index>0?n("b-button",{attrs:{variant:"primary"},on:{click:e.before}},[e._v("Question Précédente")]):e._e(),e.index<1?n("b-button",{staticClass:"float-lg-right",attrs:{variant:"primary"},on:{click:e.onSubmit}},[e._v("Question Suivante")]):e._e(),1===e.index?n("b-button",{staticClass:"float-lg-right",attrs:{variant:"primary"},on:{click:e.onSubmit}},[e._v("Terminer")]):e._e()],2)],1):e._e()},Q=[],$={name:"Question",data:function(){return{form:null}},props:{index:null,question:null},methods:{before:function(){this.$emit("before")},onSubmit:function(){this.$emit("resultQuestion",this.question)}}},j=$,U=Object(a["a"])(j,w,Q,!1,null,null,null),C=U.exports,E=function(){var e=this,t=e.$createElement,n=e._self._c||t;return null!=e.questions?n("div",[n("h3",[e._v(e._s(e.questions.score)+"/"+e._s(e.questions.questions.length))]),e._l(e.questions.questions,(function(t){return n("b-card",{key:t.titre},[n("h3",[e._v(e._s(t.titre))]),n("b-form",e._l(t.choix,(function(i){return n("b-form-input",{key:i.libelle,attrs:{state:-1!=t.result.indexOf(i.libelle)===i.check,readonly:""},model:{value:i.libelle,callback:function(t){e.$set(i,"libelle",t)},expression:"choix.libelle"}})})),1)],1)}))],2):e._e()},N=[],P={name:"Result",props:{questions:null},mounted:function(){var e,t=0;this.questions.questions.map((function(e){var n=!0;e.choix.map((function(t){-1!=e.result.indexOf(t.libelle)!==t.check&&(n=!1)})),n&&t++})),this.questions.score=t;try{e=JSON.parse(localStorage.getItem("results"))}catch(n){Array.isArray(e)||(e=[])}e.push(this.questions),localStorage.setItem("results",JSON.stringify(e))}},J=P,M=Object(a["a"])(J,E,N,!1,null,null,null),I=M.exports,z=n("5bda"),A={data:function(){return{user:null,questions:z,askedQuestion:{user:this.user,score:0,questions:[]},page:0}},components:{Question:C,Result:I},mounted:function(){try{this.user=JSON.parse(sessionStorage.getItem("currentUser"))}catch(i){this.$router.push("/")}z.nb>z.questions.length&&(z.nb=z.questions.length);var e=0,t=[];while(e<=z.nb){var n=Math.floor(Math.random()*Math.floor(z.questions.length));-1===t.indexOf(n)&&(t.push(n),this.askedQuestion.questions.push(z.questions[n]),e++)}},methods:{resultQuestion:function(e){this.questions.questions.map((function(t){t.titre===e.titre&&(t.choix=e.choix)})),this.page++}}},R=A,T=Object(a["a"])(R,q,O,!1,null,null,null),F=T.exports;i["default"].use(h["a"]);var D=new h["a"]({routes:[{path:"/",name:"home",component:S},{path:"/questionnaire",name:"questionnaire",component:F}]}),B=n("9483");Object(B["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var V=n("5f5b"),G=(n("f9e3"),n("2dd8"),n("12f6")),H=n.n(G);i["default"].config.productionTip=!1,i["default"].use(V["a"]),i["default"].use(H.a),new i["default"]({router:D,render:function(e){return e(u)}}).$mount("#app")},"5bda":function(e){e.exports=JSON.parse('{"nb":5,"questions":[{"titre":"Question 1","choix":[{"libelle":"choix 1","check":false},{"libelle":"choix 2","check":false},{"libelle":"choix 3","check":false}],"result":["choix 1","choix 3"]},{"titre":"Question 2","choix":[{"libelle":"choix 1","check":false},{"libelle":"choix 2","check":false},{"libelle":"choix 3","check":false}],"result":["choix 3"]},{"titre":"Question 3","choix":[{"libelle":"choix 1","check":false},{"libelle":"choix 2","check":false},{"libelle":"choix 3","check":false}],"result":["choix 2"]},{"titre":"Question 4","choix":[{"libelle":"choix 1","check":false},{"libelle":"choix 2","check":false},{"libelle":"choix 3","check":false}],"result":["choix 1"]},{"titre":"Question 5","choix":[{"libelle":"choix 1","check":false},{"libelle":"choix 2","check":false},{"libelle":"choix 3","check":false}],"result":["choix 2"]},{"titre":"Question 6","choix":[{"libelle":"choix 1","check":false},{"libelle":"choix 2","check":false},{"libelle":"choix 3","check":false}],"result":["choix 1","choix 2"]},{"titre":"Question 7","choix":[{"libelle":"choix 1","check":false},{"libelle":"choix 2","check":false},{"libelle":"choix 3","check":false}],"result":["choix 3"]},{"titre":"Question 8","choix":[{"libelle":"choix 1","check":false},{"libelle":"choix 2","check":false},{"libelle":"choix 3","check":false}],"result":["choix 1"]},{"titre":"Question 9","choix":[{"libelle":"choix 1","check":false},{"libelle":"choix 2","check":false},{"libelle":"choix 3","check":false}],"result":["choix 1","choix 3"]},{"titre":"Question 10","choix":[{"libelle":"choix 1","check":false},{"libelle":"choix 2","check":false},{"libelle":"choix 3","check":false}],"result":["choix 2"]}]}')},"5c0b":function(e,t,n){"use strict";var i=n("e332"),s=n.n(i);s.a},"5dc8":function(e,t,n){"use strict";var i=n("b138"),s=n.n(i);s.a},b138:function(e,t,n){},e332:function(e,t,n){}});
//# sourceMappingURL=app.b65625f8.js.map